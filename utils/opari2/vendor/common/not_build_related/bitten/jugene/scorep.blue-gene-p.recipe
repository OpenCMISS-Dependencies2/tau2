<build xmlns:python="http://bitten.edgewall.org/tools/python"
       xmlns:svn="http://bitten.edgewall.org/tools/svn"
       xmlns:sh="http://bitten.edgewall.org/tools/sh"
       xmlns:c="http://bitten.edgewall.org/tools/c">

  <step id="checkout" description="svn co">
    <svn:checkout url="https://silc.zih.tu-dresden.de/svn/silc-root/" path="${scorep.path}" />
  </step>

  <step id="boostrap" description="bootstrap">
    <sh:exec executable="./bootstrap" />
  </step>

  <step id="configure" description="configure">
    <sh:exec executable="./configure" args="--prefix=${scorep.prefix} ${scorep.configure_args}" />
  </step>

  <step id="log bitten environment" description="log bitten environment">
    <sh:exec executable="make" args="bitten-print-environment" />
  </step>

  <step id="make" description="make all">
    <sh:exec executable="make" args="all" />
  </step>

  <step id="make check-build" description="make check-build">
    <sh:exec executable="make" args="check-build" />
  </step>

  <step id="rm old installation" description="rm old installation">
    <sh:exec executable="rm" args="-rf ${scorep.prefix}" />
  </step>

  <step id="make install" description="make install">
    <sh:exec executable="make" args="install" />
  </step>

</build>
