#!/bin/bash

currdir=${PWD}
echo ${PWD}

tool=
usage()
{
 echo "Usage: $0 [-tool <beacon|sos>]" 1>&2;
 exit 1;
}

if [ $# -eq 0 ]
  then
    echo "No arguments supplied"
    usage
fi

for arg in "$@"; do
  echo $arg
  case $arg in
    -tool=*)
       echo "got tool option"
       tool=`echo $arg | sed -e 's/-tool=//'`
       echo "selected tool: "
       echo $tool
       ;;
    *)
       echo "usage"
       usage
       ;;
  esac
done

PYCOOLR_TOOL=$tool

BEACON=/home/users/sramesh/MPI_T/BEACON_INSTALLATION # UPDATE
export PYCOOLR_NODE=`hostname`
export PYCOOLR_INST_PATH=$BEACON
export PYCOOLR_LIBPATH=$BEACON/lib
export CVARS_COMM_MODE="pub"

if [[ $PYCOOLR_TOOL = "beacon" ]];
then
  ./pycoolrgui/pycoolr-plot/coolr.py pycoolrgui/pycoolr-plot/configs/demotaubeaconcerberus.cfg

elif [[ $PYCOOLR_TOOL = "sos" ]];
  then
  ./pycoolrgui/pycoolr-plot/coolr.py pycoolrgui/pycoolr-plot/configs/soscerberusmatmult.cfg
fi
